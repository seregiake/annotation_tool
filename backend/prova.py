import numpy as np
import cv2
import matplotlib
import matplotlib.pyplot as plt
import os
import json

# Root directory of the project
ROOT_DIR = os.path.abspath("../backend")  # in questo modo ROOT_DIR = /home/student5/Desktop/Mask_RCNN
print(ROOT_DIR)
image_dir = "{}/foto_facce".format(os.path.join(ROOT_DIR, "app/static/Dataset4"))

obj = {'counts': [2, 3, 2, 1, 6, 4, 2]	, 'size': [4, 5]}

mask_rle = [147122,6,527,8,526,11,521,13,5,1,516,18,518,16,518,16,518,19,515,32,502,32,502,41,493,43,491,46,483,53,478,56,476,60,474,61,472,66,467,69,463,73,459,75,452,83,450,88,444,90,438,96,438,98,436,99,435,101,433,101,427,108,426,110,422,112,422,112,420,116,418,117,416,120,412,122,412,123,411,124,407,128,406,130,404,131,403,132,401,134,400,134,400,135,398,136,397,138,396,139,395,139,395,139,395,141,393,141,393,142,392,142,392,143,391,143,391,144,391,142,392,142,392,142,392,144,390,145,391,143,389,1,1,143,389,146,388,146,388,146,388,146,2,1,385,146,1,3,384,146,1,3,384,151,383,150,384,62,1,87,384,122,2,26,384,151,383,151,382,152,382,152,380,154,380,154,380,154,380,113,1,40,379,156,378,156,377,157,377,157,377,157,377,157,376,158,376,158,376,159,374,160,374,162,372,162,372,162,372,57,1,105,371,57,1,4,3,98,371,163,371,56,1,106,371,164,370,164,370,164,370,164,370,164,370,164,370,164,370,165,369,165,370,164,369,165,369,165,369,165,370,164,370,164,370,164,370,164,370,164,370,164,370,115,1,48,370,116,1,47,370,164,371,163,371,163,371,163,372,162,372,162,372,162,372,162,373,161,373,161,374,160,374,160,375,159,375,159,375,159,376,157,377,157,377,157,378,156,378,156,379,155,379,155,379,155,379,155,379,155,379,155,379,155,379,155,379,154,379,155,377,157,376,158,376,158,377,2,1,154,377,2,1,154,380,154,373,161,376,158,378,3,1,151,379,155,380,154,382,152,388,146,389,145,389,144,390,144,391,143,391,143,391,143,392,142,393,140,394,140,394,139,395,139,395,139,396,138,396,138,396,137,398,136,398,135,400,134,400,134,401,133,402,131,404,130,405,128,407,127,407,127,410,123,411,123,412,121,415,119,415,118,416,1,1,115,420,113,421,113,423,110,424,109,426,107,428,105,429,2,1,101,431,1,2,100,436,97,438,95,443,90,444,89,448,84,450,83,453,80,456,76,459,13,11,49,461,12,13,47,463,11,15,26,7,11,466,2,24,16,16,8,502,8,19,3,165198]

ncol = 534 # width
nrig = 800 # height
row = 0
col = 0
matrix = np.zeros((nrig, ncol), dtype=int)

final = np.array([[0, 0, 1, 1, 1], [0, 0, 1, 0, 0], [0, 0, 0, 0, 1], [1, 1, 1, 0, 0]])
print(final[3][1])

print(final.shape)
print(matrix)
conto = 0
colored = False

for el in mask_rle:
    if colored:
        for num in range(0, el):
            matrix[row][col] = 1
            if col == ncol - 1:
                col = 0
                row = row + 1
            else:
                col = col + 1
        colored = False
    else:
        for num in range(0, el):
            if col == ncol - 1:
                col = 0
                row = row + 1
            else:
                col = col + 1
        colored = True

print(matrix)




"""
tot = 0
for i in count:
    tot = tot + int(i)

print(size[0] + size[1])
print(tot)
"""
